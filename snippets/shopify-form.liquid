<div class="shopify-form-container">
  {%- if id != blank -%}
    <div 
      class="shopify-custom-form" 
      data-form-type="contact" 
      data-form-id="{{ id }}"
      id="shopify-form-{{ id }}">
      <div class="shopify-form-loading">Loading form...</div>
    </div>
    
    {% unless request.design_mode %}
    <script>
      // Check if the Shopify form embedding script exists
      if (!document.getElementById('shopify-forms-app-script')) {
        var script = document.createElement('script');
        script.id = 'shopify-forms-app-script';
        script.src = 'https://cdn.shopify.com/shopifycloud/shopify_forms/assets/embedder/loader.js';
        script.defer = true;
        document.head.appendChild(script);
      }
    </script>
    {% endunless %}
  {%- else -%}
    <div class="shopify-form-error">Form ID is required</div>
  {%- endif -%}
</div> 